var products = [{
    "Id": 1,
    "Name": "Wireshark",
    "Bought": 30,
    "Stock": 120,
    "Company": "Wireshark inc",
    "Desc": "Packet sniffing software",
    "Duration": "12m",
    "Type": "Scanning",
    "Experience": "Low",
    "Image": "images/wireshark.png",
    "Price": 500.00
},
{
    "Id": 2,
        "Name": "Angry IP scanner",
        "Bought": 50,
        "Stock": 100,
        "Company": "Angry IP Scanner inc",
        "Desc": "IP address & port  scanner ",
        "Duration": "15m",
        "Type": "Scanning",
        "Experience": "Low",
        "Image": "images/Angryip.png",
        "Price": 500.00
},
{
    "Id": 3,
        "Name": "HTTRACK",
        "Bought": 60,
        "Stock": 200,
        "Company": "HTTRACK inc",
        "Desc": "Website cloner ",
        "Duration": "20m",
        "Type": "Scanning",
        "Experience": "medium",
        "Image": "images/HTTRACK.png",
        "Price": 700.00
},
{
    "Id": 4,
        "Name": "Path Analyser pro",
        "Bought": 70,
        "Stock": 100,
        "Company": "Path Analyser Pro inc",
        "Desc": "Detects trusted routers + firewalls ",
        "Duration": "25m",
        "Type": "Scanning",
        "Experience": "Medium",
        "Image": "images/Path_Analyser_pro",
        "Price": 900.00
},
{
    "Id": 5,
        "Name": "HPING3",
        "Bought": 100,
        "Stock": 1000,
        "Company": "HPING3 inc",
        "Desc": "TCP/UDP packet crafting + detects live hosts ",
        "Duration": "50m",
        "Type": "Scanning",
        "Experience": "High",
        "Image": "images/HPING3",
        "Price": 1000.00
},
{
    "Id": 6,
        "Name": "Colasoft Packet Builder",
        "Bought": 1000,
        "Stock": 10000,
        "Company": "Cola soft packet builder inc",
        "Desc": "network & ARP scanning  ",
        "Duration": "60m",
        "Type": "Scanning",
        "Experience": "High",
        "Image": "images/Colasoft_packet_builder",
        "Price": 1000.00
},
{
    "Id": 7,
        "Name": "Mega Ping",
        "Bought": 200,
        "Stock": 1000,
        "Company": "Megaping inc",
        "Desc": " detects live hosts ",
        "Duration": "25m",
        "Type": "Scanning",
        "Experience": "Medium",
        "Image": "images/Mega ping",
        "Price": 450.00


},
{
    "Id": 8,
        "Name": "Mega Ping",
        "Bought": 200,
        "Stock": 1000,
        "Company": "Megaping inc",
        "Desc": " detects live hosts ",
        "Duration": "25m",
        "Type": "Scanning",
        "Experience": "Medium",
        "Image": "images/Mega ping",
        "Price": 450.00
},
{
    "Id": 9,
        "Name": "NMAP",
        "Bought": 200,
        "Stock": 1000,
        "Company": "Megaping inc",
        "Desc": " Packet tracer ",
        "Duration": "25m",
        "Type": "Scanning",
        "Experience": "Medium",
        "Image": "images/NMAP ping",
        "Price": 600.00
},
{
    "Id": 10,
        "Name": "netscan tools pro",
        "Bought": 300,
        "Stock": 1000,
        "Company": "Netscan tools pro inc",
        "Desc": " DHCP discovery , ARP ping  ",
        "Duration": "20m",
        "Type": "Scanning",
        "Experience": "Medium",
        "Image": "images/netscan_tools_pro ping",
        "Price": 300.00
},
{
    "Id": 11,
        "Name": "HTTPrat",
        "Bought": 30,
        "Stock": 100,
        "Company": "HTTPrat inc",
        "Desc": " Remote Access Trojan ",
        "Duration": "20m",
        "Type": "Malware",
        "Experience": "Beginner",
        "Image": "images/HTTPrat ping",
        "Price": 300.00
},
{
    "Id": 12,
        "Name": "MoSucker trojan",
        "Bought": 50,
        "Stock": 1000,
        "Company": "MoSucker Trojan inc",
        "Desc": " Remote Access Trojan ",
        "Duration": "20m",
        "Type": "Malware",
        "Experience": "Medium",
        "Image": "images/MoSucker Trojan ping",
        "Price": 200.00
},
{
    "Id": 13,
        "Name": "Theef",
        "Bought": 100,
        "Stock": 20,
        "Company": "Theef inc",
        "Desc": " Remote Access Trojan ",
        "Duration": "20m",
        "Type": "Malware",
        "Experience": "Medium",
        "Image": "images/Theef ping",
        "Price": 200.00
},

{
    "Id": 14,
        "Name": "JPS Virus Maker",
        "Bought": 200,
        "Stock": 100,
        "Company": "JPS Virus maker inc",
        "Desc": " Remote Access Trojan ",
        "Duration": "20m",
        "Type": "Malware",
        "Experience": "Medium",
        "Image": "images/JPS Virus Maker ping",
        "Price": 300.00
},

{
    "Id": 15,
        "Name": "Internet Worm Maker Thing",
        "Bought": 400,
        "Stock": 300,
        "Company": "Internet Worm Maker Thing inc",
        "Desc": " Remote Access Trojan ",
        "Duration": "20m",
        "Type": "Malware",
        "Experience": "Medium",
        "Image": "images/Internet Worm Maker Thing ping",
        "Price": 300.00


},

{
    "Id": 16,
        "Name": "Currports",
        "Bought": 200,
        "Stock": 100,
        "Company": "Currports inc",
        "Desc": " Kills suspicous processes ",
        "Duration": "20m",
        "Type": "Security Tool",
        "Experience": "Medium",
        "Image": "images/Currports ping",
        "Price": 300.00
},

{
    "Id": 17,
        "Name": "ClamWin",
        "Bought": 200,
        "Stock": 100,
        "Company": "Clamwin inc",
        "Desc": " Removes Malware ",
        "Duration": "20m",
        "Type": "Security Tool",
        "Experience": "Expert",
        "Image": "images/ClamWin ping",
        "Price": 300.00
},

{
    "Id": 18,
        "Name": "Regshot",
        "Bought": 200,
        "Stock": 100,
        "Company": "Regshot inc",
        "Desc": " Compares registry entries before + after in/unstalling programs ",
        "Duration": "20m",
        "Type": "Security Tool",
        "Experience": "Expert",
        "Image": "images/Regshot ping",
        "Price": 300.00
},

{
    "Id": 19,
        "Name": "WinPatrol",
        "Bought": 200,
        "Stock": 100,
        "Company": "Winpatrol inc",
        "Desc": " looks for programs running in the background ",
        "Duration": "20m",
        "Type": "Security Tool",
        "Experience": "Expert",
        "Image": "images/WinPatrol ping",
        "Price": 300.00
},

{
    "Id": 20,
        "Name": "TCP view",
        "Bought": 200,
        "Stock": 100,
        "Company": "TCP View inc",
        "Desc": " Port monitoring tool ",
        "Duration": "20m",
        "Type": "Security Tool",
        "Experience": "Expert",
        "Image": "images/TCP View ping",
        "Price": 300.00
},];
var displayedproduct = 0;
var minimumproduct = 0;
var selected = 1;
var Total = 0;
var prodlist = [];
var basketbody = "";
var basketbodylist = [];
var cost;
var transactionlist = [];
function product(Name, Company, Desc, Duration, Type, Experience, Image, Price) {
    {
        this.Name = Name;
        this.Company = Company;
        this.Desc = Desc;
        this.Duration = Duration;
        this.Type = Type;
        this.Experience = Experience;
        this.Image = Image;
        this.Price = Price;
    }
}
function search() {

    displayedproduct = 0;
    var valid = true;
    var query = document.getElementById("search").value;
    var duration = document.getElementById("duration").value;
    var type = document.getElementById("type").value;
    var experience = document.getElementById("experience").value;
    prodlist = [];
    document.getElementById("row1").style.display = "none";
    document.getElementById("row2").style.display = "none";
    document.getElementById("row3").style.display = "none";
    document.getElementById("row4").style.display = "none";
    document.getElementById("row5").style.display = "none";
    document.getElementById("row6").style.display = "none";
    document.getElementById("row7").style.display = "none";
    document.getElementById("row8").style.display = "none";
    minimum = parseInt(document.getElementById("productmin").value)
    for (i = 0; i < products.length; i++) {
        valid = true;
        if (query !== "") {
            if (query.length > products[i].Name.length) {
                valid = false;
            }
            if (query.length <= products[i].Name.length) {
                for (j = 0; j < query.length; j++) {
                    if (query[j].toLowerCase() !== products[i].Name[j].toLowerCase()) {
                        valid = false;
                    }
                }
            }
        }
        if (minimumproduct > 0) {
            valid = false;
            minimumproduct = minimumproduct - 1;
        }
        if (duration !== "none") {
            if (products[i].Duration !== duration) {
                valid = false;
            }
        }
        if (type !== "none") {
            if (products[i].Type !== type) {
                valid = false;
            }
        }
        if (experience !== "none") {
            if (products[i].Experience !== experience) {
                valid = false;
            }
        }
        if (minimum <= 0) {
            if (displayedproduct < 8) {
                if (valid === true) {
                    added = new product(products[i].Name, products[i].Company,
                        products[i].Desc, products[i].Duration,
                        products[i].Type, products[i].Experience,
                        products[i].Image, products[i].Price);
                    prodlist.push(added);
                }
            }
            if (displayedproduct < 8) {
                if (valid === true) {
                    displayedproduct = displayedproduct + 1;
                    document.getElementById("row" + displayedproduct).style.display = "block";
                    document.getElementById("Name" + displayedproduct).innerHTML = products[i].Name;
                    document.getElementById("Image" + displayedproduct).src = products[i].Image;
                    document.getElementById("company" + displayedproduct).innerHTML = products[i].Company;
                    document.getElementById("duration" + displayedproduct).innerHTML = products[i].Duration;
                    document.getElementById("type" + displayedproduct).innerHTML = products[i].Type;
                    document.getElementById("experience" + displayedproduct).innerHTML = products[i].Experience;
                    document.getElementById("price" + displayedproduct).innerHTML = products[i].Price;

                }
            }
        }
        minimum = minimum - 1;
    }
}
;
function View1() {
    selected = 0;
    document.getElementById("productslist").style.display = "none";
    document.getElementById("productpage").style.display = "inline";
    document.getElementById("productname").innerHTML = prodlist[selected].Name;
    document.getElementById("productimage").src = prodlist[selected].Image;
    document.getElementById("productprice").innerHTML = prodlist[selected].Price;
    document.getElementById("productdesc").innerHTML = prodlist[selected].Desc;
    document.getElementById("productname2").innerHTML = prodlist[selected].Name;
    document.getElementById("productcompany").innerHTML = prodlist[selected].Company;
    document.getElementById("productdesc2").innerHTML = prodlist[selected].Desc;
    document.getElementById("productduration").innerHTML = prodlist[selected].Duration;
    document.getElementById("producttype").innerHTML = prodlist[selected].Type;
    document.getElementById("productdif").innerHTML = prodlist[selected].Experience;
    document.getElementById("productprice2").innerHTML = prodlist[selected].Price;
}
;
function View1() {
    selected = 0;
    document.getElementById("productslist").style.display = "none";
    document.getElementById("productpage").style.display = "inline";
    document.getElementById("productname").innerHTML = prodlist[selected].Name;
    document.getElementById("productimage").src = prodlist[selected].Image;
    document.getElementById("productprice").innerHTML = prodlist[selected].Price;
    document.getElementById("productdesc").innerHTML = prodlist[selected].Desc;
    document.getElementById("productname2").innerHTML = prodlist[selected].Name;
    document.getElementById("productcompany").innerHTML = prodlist[selected].Company;
    document.getElementById("productdesc2").innerHTML = prodlist[selected].Desc;
    document.getElementById("productduration").innerHTML = prodlist[selected].Duration;
    document.getElementById("producttype").innerHTML = prodlist[selected].Type;
    document.getElementById("productdif").innerHTML = prodlist[selected].Experience;
    document.getElementById("productprice2").innerHTML = prodlist[selected].Price;
}
;
function View2() {
    selected = 1;
    document.getElementById("productslist").style.display = "none";
    document.getElementById("productpage").style.display = "inline";
    document.getElementById("productname").innerHTML = prodlist[selected].Name;
    document.getElementById("productimage").src = prodlist[selected].Image;
    document.getElementById("productprice").innerHTML = prodlist[selected].Price;
    document.getElementById("productdesc").innerHTML = prodlist[selected].Desc;
    document.getElementById("productname2").innerHTML = prodlist[selected].Name;
    document.getElementById("productcompany").innerHTML = prodlist[selected].Company;
    document.getElementById("productdesc2").innerHTML = prodlist[selected].Desc;
    document.getElementById("productduration").innerHTML = prodlist[selected].Duration;
    document.getElementById("producttype").innerHTML = prodlist[selected].Type;
    document.getElementById("productdif").innerHTML = prodlist[selected].Experience;
    document.getElementById("productprice2").innerHTML = prodlist[selected].Price;
}
;
function View3() {
    selected = 2;
    document.getElementById("productslist").style.display = "none";
    document.getElementById("productpage").style.display = "inline";
    document.getElementById("productname").innerHTML = prodlist[selected].Name;
    document.getElementById("productimage").src = prodlist[selected].Image;
    document.getElementById("productprice").innerHTML = prodlist[selected].Price;
    document.getElementById("productdesc").innerHTML = prodlist[selected].Desc;
    document.getElementById("productname2").innerHTML = prodlist[selected].Name;
    document.getElementById("productcompany").innerHTML = prodlist[selected].Company;
    document.getElementById("productdesc2").innerHTML = prodlist[selected].Desc;
    document.getElementById("productduration").innerHTML = prodlist[selected].Duration;
    document.getElementById("producttype").innerHTML = prodlist[selected].Type;
    document.getElementById("productdif").innerHTML = prodlist[selected].Experience;
    document.getElementById("productprice2").innerHTML = prodlist[selected].Price;
}
;
function View4() {
    selected = 3;
    document.getElementById("productslist").style.display = "none";
    document.getElementById("productpage").style.display = "inline";
    document.getElementById("productname").innerHTML = prodlist[selected].Name;
    document.getElementById("productimage").src = prodlist[selected].Image;
    document.getElementById("productprice").innerHTML = prodlist[selected].Price;
    document.getElementById("productdesc").innerHTML = prodlist[selected].Desc;
    document.getElementById("productname2").innerHTML = prodlist[selected].Name;
    document.getElementById("productcompany").innerHTML = prodlist[selected].Company;
    document.getElementById("productdesc2").innerHTML = prodlist[selected].Desc;
    document.getElementById("productduration").innerHTML = prodlist[selected].Duration;
    document.getElementById("producttype").innerHTML = prodlist[selected].Type;
    document.getElementById("productdif").innerHTML = prodlist[selected].Experience;
    document.getElementById("productprice2").innerHTML = prodlist[selected].Price;
}
;
function View5() {
    selected = 4;
    document.getElementById("productslist").style.display = "none";
    document.getElementById("productpage").style.display = "inline";
    document.getElementById("productname").innerHTML = prodlist[selected].Name;
    document.getElementById("productimage").src = prodlist[selected].Image;
    document.getElementById("productprice").innerHTML = prodlist[selected].Price;
    document.getElementById("productdesc").innerHTML = prodlist[selected].Desc;
    document.getElementById("productname2").innerHTML = prodlist[selected].Name;
    document.getElementById("productcompany").innerHTML = prodlist[selected].Company;
    document.getElementById("productdesc2").innerHTML = prodlist[selected].Desc;
    document.getElementById("productduration").innerHTML = prodlist[selected].Duration;
    document.getElementById("producttype").innerHTML = prodlist[selected].Type;
    document.getElementById("productdif").innerHTML = prodlist[selected].Experience;
    document.getElementById("productprice2").innerHTML = prodlist[selected].Price;
}
;
function View6() {
    selected = 5;
    document.getElementById("productslist").style.display = "none";
    document.getElementById("productpage").style.display = "inline";
    document.getElementById("productname").innerHTML = prodlist[selected].Name;
    document.getElementById("productimage").src = prodlist[selected].Image;
    document.getElementById("productprice").innerHTML = prodlist[selected].Price;
    document.getElementById("productdesc").innerHTML = prodlist[selected].Desc;
    document.getElementById("productname2").innerHTML = prodlist[selected].Name;
    document.getElementById("productcompany").innerHTML = prodlist[selected].Company;
    document.getElementById("productdesc2").innerHTML = prodlist[selected].Desc;
    document.getElementById("productduration").innerHTML = prodlist[selected].Duration;
    document.getElementById("producttype").innerHTML = prodlist[selected].Type;
    document.getElementById("productdif").innerHTML = prodlist[selected].Experience;
    document.getElementById("productprice2").innerHTML = prodlist[selected].Price;
}
;
function View8() {
    selected = 6;
    document.getElementById("productslist").style.display = "none";
    document.getElementById("productpage").style.display = "inline";
    document.getElementById("productname").innerHTML = prodlist[selected].Name;
    document.getElementById("productimage").src = prodlist[selected].Image;
    document.getElementById("productprice").innerHTML = prodlist[selected].Price;
    document.getElementById("productdesc").innerHTML = prodlist[selected].Desc;
    document.getElementById("productname2").innerHTML = prodlist[selected].Name;
    document.getElementById("productcompany").innerHTML = prodlist[selected].Company;
    document.getElementById("productdesc2").innerHTML = prodlist[selected].Desc;
    document.getElementById("productduration").innerHTML = prodlist[selected].Duration;
    document.getElementById("producttype").innerHTML = prodlist[selected].Type;
    document.getElementById("productdif").innerHTML = prodlist[selected].Experience;
    document.getElementById("productprice2").innerHTML = prodlist[selected].Price;
}
;
function View9() {
    selected = 7;
    document.getElementById("productslist").style.display = "none";
    document.getElementById("productpage").style.display = "inline";
    document.getElementById("productname").innerHTML = prodlist[selected].Name;
    document.getElementById("productimage").src = prodlist[selected].Image;
    document.getElementById("productprice").innerHTML = prodlist[selected].Price;
    document.getElementById("productdesc").innerHTML = prodlist[selected].Desc;
    document.getElementById("productname2").innerHTML = prodlist[selected].Name;
    document.getElementById("productcompany").innerHTML = prodlist[selected].Company;
    document.getElementById("productdesc2").innerHTML = prodlist[selected].Desc;
    document.getElementById("productduration").innerHTML = prodlist[selected].Duration;
    document.getElementById("producttype").innerHTML = prodlist[selected].Type;
    document.getElementById("productdif").innerHTML = prodlist[selected].Experience;
    document.getElementById("productprice2").innerHTML = prodlist[selected].Price;
}
;


function toproducts() {
    document.getElementById("productpage").style.display = "none";
    document.getElementById("productslist").style.display = "inline";
    document.getElementById("table-scroll").style.display = "inline";
    document.getElementById("checkout").style.display = "none";
    document.getElementById("basket").style.display = "none";
    document.getElementById("confirmscreen").style.display = "none";
    document.getElementById("confirmed").style.display = "none";
}
;
function tobasket() {
    document.getElementById("productpage").style.display = "none";
    document.getElementById("productslist").style.display = "none";
    document.getElementById("basket").style.display = "inline";
    document.getElementById("table-scroll").style.display = "inline";
    document.getElementById("checkout").style.display = "none";
    document.getElementById("confirmscreen").style.display = "none";
    document.getElementById("confirmed").style.display = "none";
}
;

function tocheckout() {
    document.getElementById("table-scroll").style.display = "none";
    document.getElementById("checkout").style.display = "inline";
    document.getElementById("basket").style.display = "none";
}
;
function toconfirm() {
    entered = true;
    document.getElementById("nerror").innerHTML = "";
    document.getElementById("addrerror").innerHTML = "";
    document.getElementById("screrror").innerHTML = "";
    document.getElementById("crderror").innerHTML = "";
    if (document.getElementById("EnName").value === "") {
        entered = false;
        document.getElementById("nerror").innerHTML = "ERROR:CANNOT BE EMPTY";
    }
    if (document.getElementById("EnAddr").value === "") {
        entered = false;
        document.getElementById("addrerror").innerHTML = "ERROR:CANNOT BE EMPTY";
    }
    if (document.getElementById("EnScr").value === "") {
        entered = false;
        document.getElementById("screrror").innerHTML = "ERROR:CANNOT BE EMPTY";
    }
    if (document.getElementById("EnCrd").value === "") {
        entered = false;
        document.getElementById("crderror").innerHTML = "ERROR:CANNOT BE EMPTY";

    }
    if (entered === true) {
        document.getElementById("table-scroll").style.display = "inline";
        document.getElementById("checkout").style.display = "none";
        document.getElementById("confirmscreen").style.display = "inline";
    }
}
;
function confirm() {
    clearbasket();
    document.getElementById("confirmscreen").style.display = "none";
    document.getElementById("table-scroll").style.display = "none";
    document.getElementById("confirmed").style.display = "inline";
}
;
function clearbasket() {
    basketbodylist = [];
    basketbody = "";
    var tabletail = "</table>";
    var tablehead = "<table> <td> <button id=" + "basketbutton" + ">BASKET</button> </td><tr><th>Image</th><th>Name</th><th>Price</th>";
    document.getElementById("table-scroll").innerHTML = tablehead + basketbody + tabletail;

    document.getElementById("basketbutton").addEventListener("click", function (e) {
        tobasket();
    });
    cost = 0;
}
;
function remove(button) {
    basketbodylist[button - 1] = "";
    basketbody = "";
    cost = parseInt(cost) - parseInt(transactionlist[button - 1].Price);
    var tabletail = "</table>";
    var tablehead = "<table> <td> <button id=" + "basketbutton" + ">BASKET</button> </td><tr><th>Image</th><th>Name</th><th>Price</th> <td> Cost: <div id=" + "Cost" + ">" + cost + "</div> ";
    for (i = 0; i < basketbodylist.length; i++) {
        basketbody = basketbody + basketbodylist[i];
    }
    document.getElementById("table-scroll").innerHTML = tablehead + basketbody + tabletail;

    for (i = 0; i < basketbodylist.length; i++) {
        try {
            if (basketbody[i] !== "") {
                document.getElementById("button" + i).addEventListener("click" + i, function (e) {
                    remove(i);
                });
            }
        } catch (err) {

        }
    }


    document.getElementById("basketbutton").addEventListener("click", function (e) {
        tobasket();
    });
}
function addtobasket() {
    basketbody = "";
    cost = parseInt(cost) + parseInt(prodlist[selected].Price);
    transactionlist.push(prodlist[selected].Price);
    var tablehead = "<table> <td> <button id=" + "basketbutton" + ">BASKET</button> </td><tr><th>Image</th><th>Name</th><th>Price</th> <td> Cost: <div id=" + "Cost" + ">" + cost + "</div> ";
    var tableadd = "<tr align=" + "center" +
        "><td>" + "<img src=" + prodlist[selected].Image +
        " alt=" + "Image" + " width=" + "100" + " height=" + "60" +
        "> </td> <td>" + prodlist[selected].Name +
        "</td> <td>" + prodlist[selected].Price + "</td></tr>" +
        "<td> <button id=" + "button" + basketbodylist.length +
        ">X</button> </td>";
    basketbodylist.push(tableadd);
    var tabletail = "</table>";
    for (i = 0; i < basketbodylist.length; i++) {
        basketbody = basketbody + basketbodylist[i];
    }
    document.getElementById("table-scroll").innerHTML = tablehead + basketbody + tabletail;
    for (i = 0; i < basketbodylist.length; i++) {
        if (basketbody[i] !== "") {
            try {
                document.getElementById("button" + i).addEventListener("click" + i, function (e) {
                    remove(i);
                });
            } catch (err) {

            }
        }
    }
    document.getElementById("basketbutton").addEventListener("click", function (e) {
        tobasket();
    });
}
function add() {
    document.getElementById("productmin").value = parseInt(document.getElementById("productmin").value) + 8;
}
function subtract() {
    if (parseInt(document.getElementById("productmin").value) - 8 >= 0) {
        document.getElementById("productmin").value = parseInt(document.getElementById("productmin").value) - 8;
    }
}